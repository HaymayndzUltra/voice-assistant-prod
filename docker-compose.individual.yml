# Individual Agent Services
# This file contains both Main-PC and PC-2 individual agents

services:
  nats:
    container_name: nats
    image: nats:2.10-alpine
    networks:
    - shared_network
    ports:
    - 4222:4222
    - 8222:8222
    restart: unless-stopped
  redis:
    container_name: redis
    image: redis:7.2-alpine
    networks:
    - shared_network
    ports:
    - 6379:6379
    restart: unless-stopped
version: '3.8'

  # Main-PC Individual Agents
  service_registry:
  build:
    context: .
    dockerfile: docker/service_registry/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.service_registry_agent
  container_name: service_registry
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats:4222
    PYTHONPATH: /app
    REDIS_URL: redis://redis:6379/0
  image: service_registry:latest
  networks:
  - shared_network
  ports:
  - 7200:7200
  - 8200:8200
  restart: unless-stopped

  system_digital_twin:
  build:
    context: .
    dockerfile: docker/system_digital_twin/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.system_digital_twin
  container_name: system_digital_twin
  environment:
    ERROR_BUS_HOST: localhost
    ERROR_BUS_PORT: '7150'
    LOG_LEVEL: INFO
    PYTHONPATH: /app
  image: system_digital_twin:latest
  networks:
  - shared_network
  ports:
  - 7220:7220
  - 8220:8220
  restart: unless-stopped

  request_coordinator:
request_coordinator:
  build:
    context: .
    dockerfile: docker/request_coordinator/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.request_coordinator
  container_name: request_coordinator
  environment:
    CUDA_VISIBLE_DEVICES: '0'
    LOG_LEVEL: INFO
    NATS_HOST: nats_coordination
    NATS_PORT: '4222'
    REDIS_HOST: redis_coordination
    REDIS_PORT: '6379'
  image: request_coordinator:latest
  networks:
  - shared_network
  ports:
  - 26002:26002
  - 27002:27002
  restart: unless-stopped

  model_manager_suite_coordination:
model_manager_suite_coordination:
  build:
    context: .
    dockerfile: docker/model_manager_suite_coordination/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.model_manager_suite
  container_name: model_manager_suite_coordination
  environment:
    CUDA_VISIBLE_DEVICES: '0'
    LOG_LEVEL: INFO
  image: model_manager_suite_coordination:latest
  networks:
  - shared_network
  restart: unless-stopped

  vram_optimizer:
vram_optimizer:
  build:
    context: .
    dockerfile: docker/vram_optimizer/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.vram_optimizer_agent
  container_name: vram_optimizer
  environment:
    CUDA_VISIBLE_DEVICES: '0'
    LOG_LEVEL: INFO
  image: vram_optimizer:latest
  networks:
  - shared_network
  restart: unless-stopped

  memory_client:
memory_client:
  build:
    context: .
    dockerfile: docker/memory_client/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.memory_client
  container_name: memory_client
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_memory:4222
    REDIS_URL: redis://redis_memory:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_memory:6379/0
  image: memory_client:latest
  networks:
  - shared_network
  ports:
  - 5715:5715
  restart: unless-stopped

  session_memory_agent:
session_memory_agent:
  build:
    context: .
    dockerfile: docker/session_memory_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.session_memory_agent
  container_name: session_memory_agent
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_memory:4222
    REDIS_URL: redis://redis_memory:6379/0
  image: session_memory_agent:latest
  networks:
  - shared_network
  restart: unless-stopped

  knowledge_base:
knowledge_base:
  build:
    context: .
    dockerfile: docker/knowledge_base/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.knowledge_base
  container_name: knowledge_base
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_memory:4222
    REDIS_URL: redis://redis_memory:6379/0
  image: knowledge_base:latest
  networks:
  - shared_network
  restart: unless-stopped

  nlu_agent:
nlu_agent:
  build:
    context: .
    dockerfile: docker/nlu_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.nlu_agent
  container_name: nlu_agent
  environment:
    AGENT_NAME: NLUAgent
    AGENT_PORT: '5585'
    FALLBACK_TO_CLOUD: 'true'
    HEALTH_PORT: '6585'
    LOCAL_MODEL_TIMEOUT: '5'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    OPENAI_API_KEY: ${OPENAI_API_KEY}
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
    USE_LOCAL_MODELS: 'true'
  image: nlu_agent:latest
  networks:
  - shared_network
  ports:
  - 5585:5585
  - 6585:6585
  restart: unless-stopped

  intention_validator:
intention_validator:
  build:
    context: .
    dockerfile: docker/intention_validator/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.IntentionValidatorAgent
  container_name: intention_validator
  environment:
    AGENT_NAME: IntentionValidatorAgent
    AGENT_PORT: '5586'
    HEALTH_PORT: '6586'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
  image: intention_validator:latest
  networks:
  - shared_network
  ports:
  - 5586:5586
  - 6586:6586
  restart: unless-stopped

  advanced_command_handler:
advanced_command_handler:
  build:
    context: .
    dockerfile: docker/advanced_command_handler/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.advanced_command_handler
  container_name: advanced_command_handler
  environment:
    AGENT_NAME: AdvancedCommandHandler
    AGENT_PORT: '5587'
    HEALTH_PORT: '6587'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
  image: advanced_command_handler:latest
  networks:
  - shared_network
  ports:
  - 5587:5587
  - 6587:6587
  restart: unless-stopped

  chitchat_agent:
chitchat_agent:
  build:
    context: .
    dockerfile: docker/chitchat_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.chitchat_agent
  container_name: chitchat_agent
  environment:
    AGENT_NAME: ChitchatAgent
    AGENT_PORT: '5588'
    HEALTH_PORT: '6588'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
  image: chitchat_agent:latest
  networks:
  - shared_network
  ports:
  - 5588:5588
  - 6588:6588
  restart: unless-stopped

  feedback_handler:
feedback_handler:
  build:
    context: .
    dockerfile: docker/feedback_handler/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.feedback_handler
  container_name: feedback_handler
  environment:
    AGENT_NAME: FeedbackHandler
    AGENT_PORT: '5589'
    HEALTH_PORT: '6589'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
  image: feedback_handler:latest
  networks:
  - shared_network
  ports:
  - 5589:5589
  - 6589:6589
  restart: unless-stopped

  responder:
responder:
  build:
    context: .
    dockerfile: docker/responder/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.responder
  container_name: responder
  environment:
    AGENT_NAME: Responder
    AGENT_PORT: '5598'
    HEALTH_PORT: '6598'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
  image: responder:latest
  networks:
  - shared_network
  ports:
  - 5598:5598
  - 6598:6598
  restart: unless-stopped

  dynamic_identity_agent:
dynamic_identity_agent:
  build:
    context: .
    dockerfile: docker/dynamic_identity_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.DynamicIdentityAgent
  container_name: dynamic_identity_agent
  environment:
    AGENT_NAME: DynamicIdentityAgent
    AGENT_PORT: '5591'
    HEALTH_PORT: '6591'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
  image: dynamic_identity_agent:latest
  networks:
  - shared_network
  ports:
  - 5591:5591
  - 6591:6591
  restart: unless-stopped

  emotion_synthesis_agent:
emotion_synthesis_agent:
  build:
    context: .
    dockerfile: docker/emotion_synthesis_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.emotion_synthesis_agent
  container_name: emotion_synthesis_agent
  environment:
    AGENT_NAME: EmotionSynthesisAgent
    AGENT_PORT: '5592'
    HEALTH_PORT: '6592'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
  image: emotion_synthesis_agent:latest
  networks:
  - shared_network
  ports:
  - 5592:5592
  - 6592:6592
  restart: unless-stopped

  goal_manager:
goal_manager:
  build:
    context: .
    dockerfile: docker/goal_manager/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.goal_manager
  container_name: goal_manager
  environment:
    AGENT_NAME: GoalManager
    AGENT_PORT: '5593'
    HEALTH_PORT: '6593'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
  image: goal_manager:latest
  networks:
  - shared_network
  ports:
  - 5593:5593
  - 6593:6593
  restart: unless-stopped

  model_orchestrator:
model_orchestrator:
  build:
    context: .
    dockerfile: docker/model_orchestrator/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.model_orchestrator
  container_name: model_orchestrator
  environment:
    AGENT_NAME: ModelOrchestrator
    AGENT_PORT: '5594'
    HEALTH_PORT: '6594'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
  image: model_orchestrator:latest
  networks:
  - shared_network
  ports:
  - 5594:5594
  - 6594:6594
  restart: unless-stopped

  proactive_agent:
proactive_agent:
  build:
    context: .
    dockerfile: docker/proactive_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.ProactiveAgent
  container_name: proactive_agent
  environment:
    AGENT_NAME: ProactiveAgent
    AGENT_PORT: '5595'
    HEALTH_PORT: '6595'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
  image: proactive_agent:latest
  networks:
  - shared_network
  ports:
  - 5595:5595
  - 6595:6595
  restart: unless-stopped

  model_manager_suite:
model_manager_suite:
  build:
    context: .
    dockerfile: docker/model_manager_suite/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.model_manager_suite
  - --port
  - '5570'
  - --health-port
  - '6570'
  container_name: model_manager_suite
  environment:
    AGENT_NAME: ModelManagerSuite
    AGENT_PORT: '5570'
    HEALTH_PORT: '6570'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_language:4222
    REDIS_URL: redis://redis_language:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_language:6379/0
  image: model_manager_suite:latest
  networks:
  - shared_network
  ports:
  - 5570:5570
  - 6570:6570
  restart: unless-stopped

  chain_of_thought_agent:
chain_of_thought_agent:
  build:
    context: .
    dockerfile: docker/chain_of_thought_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.learning_manager
  container_name: chain_of_thought_agent
  environment:
    AGENT_NAME: ChainOfThoughtAgent
    AGENT_PORT: '5612'
    HEALTH_CHECK_PORT: '6612'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_reasoning:4222
    REDIS_URL: redis://redis_reasoning:6379
  image: chain_of_thought_agent:latest
  networks:
  - shared_network
  ports:
  - 5612:5612
  - 6612:6612
  restart: unless-stopped

  cognitive_model_agent:
cognitive_model_agent:
  build:
    context: .
    dockerfile: docker/cognitive_model_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.learning_manager
  container_name: cognitive_model_agent
  environment:
    AGENT_NAME: CognitiveModelAgent
    AGENT_PORT: '5641'
    HEALTH_CHECK_PORT: '6641'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_reasoning:4222
    REDIS_URL: redis://redis_reasoning:6379
  image: cognitive_model_agent:latest
  networks:
  - shared_network
  ports:
  - 5641:5641
  - 6641:6641
  restart: unless-stopped

  learning_manager:
learning_manager:
  build:
    context: .
    dockerfile: docker/learning_manager/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.learning_manager
  container_name: learning_manager
  environment:
    AGENT_NAME: LearningManager
    AGENT_PORT: '5562'
    HEALTH_CHECK_PORT: '6562'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_learning:4222
    REDIS_URL: redis://redis_learning:6379
  image: learning_manager:latest
  networks:
  - shared_network
  ports:
  - 5562:5562
  - 6562:6562
  restart: unless-stopped

  learning_orchestration_service:
learning_orchestration_service:
  build:
    context: .
    dockerfile: docker/learning_orchestration_service/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.learning_orchestration_service
  container_name: learning_orchestration_service
  environment:
    AGENT_NAME: LearningOrchestrationService
    AGENT_PORT: '5563'
    HEALTH_CHECK_PORT: '6563'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_learning:4222
    REDIS_URL: redis://redis_learning:6379
  image: learning_orchestration_service:latest
  networks:
  - shared_network
  ports:
  - 5563:5563
  - 6563:6563
  restart: unless-stopped

  learning_opportunity_detector:
learning_opportunity_detector:
  build:
    context: .
    dockerfile: docker/learning_opportunity_detector/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.learning_opportunity_detector
  container_name: learning_opportunity_detector
  environment:
    AGENT_NAME: LearningOpportunityDetector
    AGENT_PORT: '5564'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_learning:4222
    REDIS_URL: redis://redis_learning:6379
  image: learning_opportunity_detector:latest
  networks:
  - shared_network
  ports:
  - 5564:5564
  - 6564:6564
  restart: unless-stopped

  active_learning_monitor:
active_learning_monitor:
  build:
    context: .
    dockerfile: docker/active_learning_monitor/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.active_learning_monitor
  container_name: active_learning_monitor
  environment:
    AGENT_NAME: ActiveLearningMonitor
    AGENT_PORT: '5565'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_learning:4222
    REDIS_URL: redis://redis_learning:6379
  image: active_learning_monitor:latest
  networks:
  - shared_network
  ports:
  - 5565:5565
  - 6565:6565
  restart: unless-stopped

  face_recognition_agent:
face_recognition_agent:
  build:
    context: .
    dockerfile: docker/face_recognition_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.face_recognition_agent
  container_name: face_recognition_agent
  environment:
    AGENT_NAME: FaceRecognitionAgent
    AGENT_PORT: '5596'
    CUDA_VISIBLE_DEVICES: '0'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_vision:4222
    REDIS_URL: redis://redis_vision:6379
  image: face_recognition_agent:latest
  networks:
  - shared_network
  ports:
  - 5596:5596
  - 6596:6596
  restart: unless-stopped

  stt_service:
stt_service:
  build:
    context: .
    dockerfile: docker/stt_service/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.stt.dynamic_stt_manager
  container_name: stt_service
  environment:
    AGENT_NAME: STTService
    AGENT_PORT: '5551'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_speech:4222
    REDIS_URL: redis://redis_speech:6379
  image: stt_service:latest
  networks:
  - shared_network
  ports:
  - 5551:5551
  - 6551:6551
  restart: unless-stopped

  tts_service:
tts_service:
  build:
    context: .
    dockerfile: docker/tts_service/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.streaming_tts_agent
  container_name: tts_service
  environment:
    AGENT_NAME: TTSService
    AGENT_PORT: '5552'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_speech:4222
    REDIS_URL: redis://redis_speech:6379
  image: tts_service:latest
  networks:
  - shared_network
  ports:
  - 5552:5552
  - 6552:6552
  restart: unless-stopped

  audio_capture:
audio_capture:
  build:
    context: .
    dockerfile: docker/audio_capture/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.streaming_audio_capture
  container_name: audio_capture
  environment:
    AGENT_NAME: AudioCapture
    AGENT_PORT: '5553'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_speech:4222
    REDIS_URL: redis://redis_speech:6379
  image: audio_capture:latest
  networks:
  - shared_network
  ports:
  - 5553:5553
  - 6553:6553
  restart: unless-stopped

  fused_audio_preprocessor:
fused_audio_preprocessor:
  build:
    context: .
    dockerfile: docker/fused_audio_preprocessor/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.fused_audio_preprocessor
  container_name: fused_audio_preprocessor
  environment:
    AGENT_NAME: FusedAudioPreprocessor
    AGENT_PORT: '5554'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_speech:4222
    REDIS_URL: redis://redis_speech:6379
  image: fused_audio_preprocessor:latest
  networks:
  - shared_network
  ports:
  - 5554:5554
  - 6554:6554
  restart: unless-stopped

  streaming_speech_recognition:
streaming_speech_recognition:
  build:
    context: .
    dockerfile: docker/streaming_speech_recognition/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.streaming_speech_recognition
  container_name: streaming_speech_recognition
  environment:
    AGENT_NAME: StreamingSpeechRecognition
    AGENT_PORT: '5555'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_speech:4222
    REDIS_URL: redis://redis_speech:6379
  image: streaming_speech_recognition:latest
  networks:
  - shared_network
  ports:
  - 5555:5555
  - 6555:6555
  restart: unless-stopped

  streaming_tts_agent:
streaming_tts_agent:
  build:
    context: .
    dockerfile: docker/streaming_tts_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.streaming_tts_agent
  container_name: streaming_tts_agent
  environment:
    AGENT_NAME: StreamingTTSAgent
    AGENT_PORT: '5556'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_speech:4222
    REDIS_URL: redis://redis_speech:6379
  image: streaming_tts_agent:latest
  networks:
  - shared_network
  ports:
  - 5556:5556
  - 6556:6556
  restart: unless-stopped

  wake_word_detector:
wake_word_detector:
  build:
    context: .
    dockerfile: docker/wake_word_detector/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.wake_word_detector
  container_name: wake_word_detector
  environment:
    AGENT_NAME: WakeWordDetector
    AGENT_PORT: '5557'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_speech:4222
    PORCUPINE_ACCESS_KEY: NUv4S1SW3VoT8vbF5XLn6nn2+czHtMsEX3U+YM42LwPTAtiNjSpkww==
    REDIS_URL: redis://redis_speech:6379
    WAKE_WORD_PATH: /app/main_pc_code/config/wake_words/High-minds_en_linux_v3_0_0.ppn
  image: wake_word_detector:latest
  networks:
  - shared_network
  ports:
  - 5557:5557
  - 6557:6557
  restart: unless-stopped

  streaming_interrupt_handler:
streaming_interrupt_handler:
  build:
    context: .
    dockerfile: docker/streaming_interrupt_handler/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.streaming_interrupt_handler
  container_name: streaming_interrupt_handler
  environment:
    AGENT_NAME: StreamingInterruptHandler
    AGENT_PORT: '5558'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_speech:4222
    REDIS_URL: redis://redis_speech:6379
  image: streaming_interrupt_handler:latest
  networks:
  - shared_network
  ports:
  - 5558:5558
  - 6558:6558
  restart: unless-stopped

  streaming_language_analyzer:
streaming_language_analyzer:
  build:
    context: .
    dockerfile: docker/streaming_language_analyzer/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.streaming_language_analyzer
  container_name: streaming_language_analyzer
  environment:
    AGENT_NAME: StreamingLanguageAnalyzer
    AGENT_PORT: '5559'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_speech:4222
    REDIS_URL: redis://redis_speech:6379
  image: streaming_language_analyzer:latest
  networks:
  - shared_network
  ports:
  - 5559:5559
  - 6559:6559
  restart: unless-stopped

  cloud_translation_service:
cloud_translation_service:
  build:
    context: .
    dockerfile: docker/cloud_translation_service/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.cloud_translation_service
  container_name: cloud_translation_service
  environment:
    AGENT_NAME: CloudTranslationService
    AGENT_PORT: '5584'
    AWS_ACCESS_KEY_ID: ${AWS_ACCESS_KEY_ID:-}
    AWS_REGION: ${AWS_REGION:-us-east-1}
    AWS_SECRET_ACCESS_KEY: ${AWS_SECRET_ACCESS_KEY:-}
    AZURE_TRANSLATOR_KEY: ${AZURE_TRANSLATOR_KEY:-}
    AZURE_TRANSLATOR_REGION: ${AZURE_TRANSLATOR_REGION:-}
    GOOGLE_TRANSLATE_API_KEY: ${GOOGLE_TRANSLATE_API_KEY:-}
    HEALTH_CHECK_PORT: '6584'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_translation:4222
    OPENAI_API_KEY: ${OPENAI_API_KEY}
    REDIS_URL: redis://redis_translation:6379
    TRANSLATE_FALLBACK_PROVIDER: ${TRANSLATE_FALLBACK_PROVIDER:-azure}
    TRANSLATE_PRIMARY_PROVIDER: ${TRANSLATE_PRIMARY_PROVIDER:-google}
  image: cloud_translation_service:latest
  networks:
  - shared_network
  ports:
  - 5584:5584
  - 6584:6584
  restart: unless-stopped

  emotion_engine:
emotion_engine:
  build:
    context: .
    dockerfile: docker/emotion_engine/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.emotion_engine
  container_name: emotion_engine
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_emotion:4222
    REDIS_URL: redis://redis_emotion:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_emotion:6379/0
  image: emotion_engine:latest
  networks:
  - shared_network
  ports:
  - 5590:5590
  - 6590:6590
  restart: unless-stopped

  mood_tracker:
mood_tracker:
  build:
    context: .
    dockerfile: docker/mood_tracker/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.mood_tracker_agent
  container_name: mood_tracker
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_emotion:4222
    REDIS_URL: redis://redis_emotion:6379/0
  image: mood_tracker:latest
  networks:
  - shared_network
  restart: unless-stopped

  human_awareness:
human_awareness:
  build:
    context: .
    dockerfile: docker/human_awareness/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.human_awareness_agent
  container_name: human_awareness
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_emotion:4222
    REDIS_URL: redis://redis_emotion:6379/0
  image: human_awareness:latest
  networks:
  - shared_network
  restart: unless-stopped

  tone_detector:
tone_detector:
  build:
    context: .
    dockerfile: docker/tone_detector/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.tone_detector
  container_name: tone_detector
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_emotion:4222
    REDIS_URL: redis://redis_emotion:6379/0
  image: tone_detector:latest
  networks:
  - shared_network
  restart: unless-stopped

  voice_profiling:
voice_profiling:
  build:
    context: .
    dockerfile: docker/voice_profiling/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.voice_profiling_agent
  container_name: voice_profiling
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_emotion:4222
    REDIS_URL: redis://redis_emotion:6379/0
  image: voice_profiling:latest
  networks:
  - shared_network
  restart: unless-stopped

  empathy_agent:
empathy_agent:
  build:
    context: .
    dockerfile: docker/empathy_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.EmpathyAgent
  container_name: empathy_agent
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_emotion:4222
    REDIS_URL: redis://redis_emotion:6379/0
  image: empathy_agent:latest
  networks:
  - shared_network
  restart: unless-stopped

  code_generator:
code_generator:
  build:
    context: .
    dockerfile: docker/code_generator/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.code_generator_agent
  container_name: code_generator
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_utility:4222
    REDIS_URL: redis://redis_utility:6379/0
    SERVICE_REGISTRY_REDIS_URL: redis://redis_utility:6379/0
  image: code_generator:latest
  networks:
  - shared_network
  restart: unless-stopped

  executor:
executor:
  build:
    context: .
    dockerfile: docker/executor/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.executor
  container_name: executor
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_utility:4222
    REDIS_URL: redis://redis_utility:6379/0
  image: executor:latest
  networks:
  - shared_network
  restart: unless-stopped

  predictive_health_monitor:
predictive_health_monitor:
  build:
    context: .
    dockerfile: docker/predictive_health_monitor/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.predictive_health_monitor
  container_name: predictive_health_monitor
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_utility:4222
    REDIS_URL: redis://redis_utility:6379/0
  image: predictive_health_monitor:latest
  networks:
  - shared_network
  restart: unless-stopped

  translation_service:
translation_service:
  build:
    context: .
    dockerfile: docker/translation_service/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.translation_service
  container_name: translation_service
  environment:
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_utility:4222
    REDIS_URL: redis://redis_utility:6379/0
    TRANSLATION_PUB_PORT: '6597'
    TRANSLATION_ZMQ_PORT: '5597'
  image: translation_service:latest
  networks:
  - shared_network
  ports:
  - 5597:5597
  - 6597:6597
  restart: unless-stopped

  smart_home_agent:
smart_home_agent:
  build:
    context: .
    dockerfile: docker/smart_home_agent/Dockerfile
  command:
  - python
  - -m
  - main_pc_code.agents.smart_home_agent
  container_name: smart_home_agent
  environment:
    DEVICE_SCAN_INTERVAL: '60'
    INTELLIGENT_CONTROL: enabled
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_utility:4222
    REDIS_URL: redis://redis_utility:6379/0
    TAPO_L520_IP: 192.168.100.63
    TAPO_L520_LOCATION: living_room
    TAPO_L520_NAME: Living Room Light
    TAPO_PASSWORD: ${TAPO_PASSWORD}
    TAPO_USERNAME: ${TAPO_USERNAME}
    VOICE_CONTROL: enabled
  image: smart_home_agent:latest
  networks:
  - shared_network
  ports:
  - 7125:7125
  - 8125:8125
  restart: unless-stopped

  observability_hub:
observability_hub:
  build:
    context: .
    dockerfile: docker/observability_hub/Dockerfile
  command:
  - python
  - -m
  - phase1_implementation.consolidated_agents.observability_hub.backup_observability_hub.observability_hub
  container_name: observability_hub
  environment:
    LOG_LEVEL: INFO
    REDIS_HOST: redis_observability
    REDIS_PORT: '6379'
  image: observability_hub:latest
  networks:
  - shared_network
  ports:
  - 9000:9000
  restart: unless-stopped

  # PC-2 Individual Agents
  pc2_resource_manager:
pc2_resource_manager:
  build:
    context: .
    dockerfile: docker/pc2_resource_manager/Dockerfile
  command:
  - python
  - pc2_code/agents/resource_manager.py
  container_name: pc2_resource_manager
  environment:
    HEALTH_PORT: '8113'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_infra:4222
    PC2_ENVIRONMENT: 'true'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_infra:6379/0
    SERVICE_PORT: '7113'
  image: pc2_resource_manager:latest
  networks:
  - shared_network
  ports:
  - 8213:7113
  - 8213:8113
  restart: unless-stopped

  pc2_async_processor:
pc2_async_processor:
  build:
    context: .
    dockerfile: docker/pc2_async_processor/Dockerfile
  command:
  - python
  - pc2_code/agents/async_processor.py
  container_name: pc2_async_processor
  environment:
    HEALTH_PORT: '8101'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_async:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7101'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_async:6379/0
  image: pc2_async_processor:latest
  networks:
  - shared_network
  ports:
  - 8301:7101
  - 8301:8101
  restart: unless-stopped

  pc2_tiered_responder:
pc2_tiered_responder:
  build:
    context: .
    dockerfile: docker/pc2_tiered_responder/Dockerfile
  command:
  - python
  - pc2_code/agents/tiered_responder.py
  container_name: pc2_tiered_responder
  environment:
    HEALTH_PORT: '8100'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_async:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7100'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_async:6379/1
  image: pc2_tiered_responder:latest
  networks:
  - shared_network
  ports:
  - 8300:7100
  - 8300:8100
  restart: unless-stopped

  pc2_task_scheduler:
pc2_task_scheduler:
  build:
    context: .
    dockerfile: docker/pc2_task_scheduler/Dockerfile
  command:
  - python
  - pc2_code/agents/task_scheduler.py
  container_name: pc2_task_scheduler
  environment:
    HEALTH_PORT: '8115'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_async:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7115'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_async:6379/2
  image: pc2_task_scheduler:latest
  networks:
  - shared_network
  ports:
  - 8315:7115
  - 8315:8115
  restart: unless-stopped

  pc2_advanced_router:
pc2_advanced_router:
  build:
    context: .
    dockerfile: docker/pc2_advanced_router/Dockerfile
  command:
  - python
  - pc2_code/agents/advanced_router.py
  container_name: pc2_advanced_router
  environment:
    HEALTH_PORT: '8120'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_async:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7120'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_async:6379/3
  image: pc2_advanced_router:latest
  networks:
  - shared_network
  ports:
  - 8320:7120
  - 8320:8120
  restart: unless-stopped

  pc2_memory_orchestrator_service:
pc2_memory_orchestrator_service:
  build:
    context: .
    dockerfile: docker/pc2_memory_orchestrator_service/Dockerfile
  command:
  - python
  - pc2_code/agents/memory_orchestrator_service.py
  container_name: pc2_memory_orchestrator_service
  environment:
    HEALTH_PORT: '8140'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_memory:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7140'
    PYTHONPATH: /app
    REDIS_HOST: redis_pc2_memory
    REDIS_PORT: '6379'
  image: pc2_memory_orchestrator_service:latest
  networks:
  - shared_network
  ports:
  - 8240:7140
  - 8240:8140
  restart: unless-stopped

  pc2_cache_manager:
pc2_cache_manager:
  build:
    context: .
    dockerfile: docker/pc2_cache_manager/Dockerfile
  command:
  - python
  - pc2_code/agents/cache_manager.py
  container_name: pc2_cache_manager
  environment:
    HEALTH_PORT: '8102'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_memory:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7102'
    PYTHONPATH: /app
    REDIS_HOST: redis_pc2_memory
    REDIS_PORT: '6379'
  image: pc2_cache_manager:latest
  networks:
  - shared_network
  ports:
  - 8202:7102
  - 8202:8102
  restart: unless-stopped

  pc2_unified_memory_reasoning_agent:
pc2_unified_memory_reasoning_agent:
  build:
    context: .
    dockerfile: docker/pc2_unified_memory_reasoning_agent/Dockerfile
  command:
  - python
  - pc2_code/agents/unified_memory_reasoning_agent.py
  container_name: pc2_unified_memory_reasoning_agent
  environment:
    HEALTH_PORT: '8120'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_memory:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7120'
    PYTHONPATH: /app
    REDIS_HOST: redis_pc2_memory
    REDIS_PORT: '6379'
  image: pc2_unified_memory_reasoning_agent:latest
  networks:
  - shared_network
  ports:
  - 8220:7120
  - 8220:8120
  restart: unless-stopped

  pc2_context_manager:
pc2_context_manager:
  build:
    context: .
    dockerfile: docker/pc2_context_manager/Dockerfile
  command:
  - python
  - pc2_code/agents/context_manager.py
  container_name: pc2_context_manager
  environment:
    HEALTH_PORT: '8150'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_memory:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7150'
    PYTHONPATH: /app
    REDIS_HOST: redis_pc2_memory
    REDIS_PORT: '6379'
  image: pc2_context_manager:latest
  networks:
  - shared_network
  ports:
  - 8250:7150
  - 8250:8150
  restart: unless-stopped

  pc2_experience_tracker:
pc2_experience_tracker:
  build:
    context: .
    dockerfile: docker/pc2_experience_tracker/Dockerfile
  command:
  - python
  - pc2_code/agents/experience_tracker.py
  container_name: pc2_experience_tracker
  environment:
    HEALTH_PORT: '8160'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_memory:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7160'
    PYTHONPATH: /app
    REDIS_HOST: redis_pc2_memory
    REDIS_PORT: '6379'
  image: pc2_experience_tracker:latest
  networks:
  - shared_network
  ports:
  - 8260:7160
  - 8260:8160
  restart: unless-stopped

  pc2_memory_scheduler:
pc2_memory_scheduler:
  build:
    context: .
    dockerfile: docker/pc2_memory_scheduler/Dockerfile
  command:
  - python
  - pc2_code/agents/memory_scheduler.py
  container_name: pc2_memory_scheduler
  environment:
    HEALTH_PORT: '8142'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_memory:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7142'
    PYTHONPATH: /app
    REDIS_HOST: redis_pc2_memory
    REDIS_PORT: '6379'
  image: pc2_memory_scheduler:latest
  networks:
  - shared_network
  ports:
  - 8242:7142
  - 8242:8142
  restart: unless-stopped

  pc2_filesystem_assistant_agent:
pc2_filesystem_assistant_agent:
  build:
    context: .
    dockerfile: docker/pc2_filesystem_assistant_agent/Dockerfile
  command:
  - python
  - pc2_code/agents/filesystem_assistant_agent.py
  container_name: pc2_filesystem_assistant_agent
  environment:
    HEALTH_PORT: '8123'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_utility:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7123'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_utility:6379/1
  image: pc2_filesystem_assistant_agent:latest
  networks:
  - shared_network
  ports:
  - 8423:7123
  - 8423:8123
  restart: unless-stopped

  pc2_remote_connector_agent:
pc2_remote_connector_agent:
  build:
    context: .
    dockerfile: docker/pc2_remote_connector_agent/Dockerfile
  command:
  - python
  - pc2_code/agents/remote_connector_agent.py
  container_name: pc2_remote_connector_agent
  environment:
    HEALTH_PORT: '8124'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_utility:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7124'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_utility:6379/2
  image: pc2_remote_connector_agent:latest
  networks:
  - shared_network
  ports:
  - 8424:7124
  - 8424:8124
  restart: unless-stopped

  pc2_tutor_agent:
pc2_tutor_agent:
  build:
    context: .
    dockerfile: docker/pc2_tutor_agent/Dockerfile
  command:
  - python
  - pc2_code/agents/tutor_agent.py
  container_name: pc2_tutor_agent
  environment:
    HEALTH_PORT: '8108'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_tutoring:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7108'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_tutoring:6379/0
  image: pc2_tutor_agent:latest
  networks:
  - shared_network
  ports:
  - 8408:7108
  - 8408:8108
  restart: unless-stopped

  pc2_tutoring_agent:
pc2_tutoring_agent:
  build:
    context: .
    dockerfile: docker/pc2_tutoring_agent/Dockerfile
  command:
  - python
  - pc2_code/agents/tutoring_agent.py
  container_name: pc2_tutoring_agent
  environment:
    HEALTH_PORT: '8131'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_tutoring:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7131'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_tutoring:6379/1
  image: pc2_tutoring_agent:latest
  networks:
  - shared_network
  ports:
  - 8431:7131
  - 8431:8131
  restart: unless-stopped

  pc2_vision_processing_agent:
pc2_vision_processing_agent:
  build:
    context: .
    dockerfile: docker/pc2_vision_processing_agent/Dockerfile
  command:
  - python
  - pc2_code/agents/VisionProcessingAgent.py
  container_name: pc2_vision_processing_agent
  environment:
    HEALTH_PORT: '8150'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_vision:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7150'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_vision:6379/0
  image: pc2_vision_processing_agent:latest
  networks:
  - shared_network
  ports:
  - 8450:7150
  - 8450:8150
  restart: unless-stopped

  pc2_dream_world_agent:
pc2_dream_world_agent:
  build:
    context: .
    dockerfile: docker/pc2_dream_world_agent/Dockerfile
  command:
  - python
  - pc2_code/agents/DreamWorldAgent.py
  container_name: pc2_dream_world_agent
  environment:
    HEALTH_PORT: '8104'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_vision:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7104'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_vision:6379/1
  image: pc2_dream_world_agent:latest
  networks:
  - shared_network
  ports:
  - 8404:7104
  - 8404:8104
  restart: unless-stopped

  pc2_dreaming_mode_agent:
pc2_dreaming_mode_agent:
  build:
    context: .
    dockerfile: docker/pc2_dreaming_mode_agent/Dockerfile
  command:
  - python
  - pc2_code/agents/DreamingModeAgent.py
  container_name: pc2_dreaming_mode_agent
  environment:
    HEALTH_PORT: '8127'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_vision:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7127'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_vision:6379/2
  image: pc2_dreaming_mode_agent:latest
  networks:
  - shared_network
  ports:
  - 8427:7127
  - 8427:8127
  restart: unless-stopped

  pc2_unified_web_agent:
pc2_unified_web_agent:
  build:
    context: .
    dockerfile: docker/pc2_unified_web_agent/Dockerfile
  command:
  - python
  - pc2_code/agents/unified_web_agent.py
  container_name: pc2_unified_web_agent
  environment:
    DEV_PORT: '3000'
    HEALTH_PORT: '8126'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats_pc2_web:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '7126'
    PYTHONPATH: /app
    REDIS_URL: redis://redis_pc2_web:6379/0
    WEB_PORT: '8080'
  image: pc2_unified_web_agent:latest
  networks:
  - shared_network
  ports:
  - 8426:7126
  - 8426:8126
  - 8000:3000
  - 8080:8080
  restart: unless-stopped

  pc2_tutoring_service_agent:
pc2_tutoring_service_agent:
  build:
    context: .
    dockerfile: docker/pc2_tutoring_service_agent/Dockerfile
  command:
  - python
  - pc2_code/agents/tutoring_service_agent.py
  container_name: pc2_tutoring_service_agent
  environment:
    HEALTH_PORT: '9032'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '8032'
    PYTHONPATH: /app
    REDIS_URL: redis://redis:6379/0
  image: pc2_tutoring_service_agent:latest
  networks:
  - shared_network
  ports:
  - 8032:8032
  - 8032:9032
  restart: unless-stopped

  pc2_custom_tutoring_test:
pc2_custom_tutoring_test:
  build:
    context: .
    dockerfile: docker/pc2_custom_tutoring_test/Dockerfile
  command:
  - python
  - pc2_code/agents/custom_tutoring_test.py
  container_name: pc2_custom_tutoring_test
  environment:
    HEALTH_PORT: '9033'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '8033'
    PYTHONPATH: /app
    REDIS_URL: redis://redis:6379/0
  image: pc2_custom_tutoring_test:latest
  networks:
  - shared_network
  ports:
  - 8033:8033
  - 8033:9033
  restart: unless-stopped

  pc2_test_tutoring_feature:
pc2_test_tutoring_feature:
  build:
    context: .
    dockerfile: docker/pc2_test_tutoring_feature/Dockerfile
  command:
  - python
  - pc2_code/agents/test_tutoring_feature.py
  container_name: pc2_test_tutoring_feature
  environment:
    HEALTH_PORT: '9034'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '8034'
    PYTHONPATH: /app
    REDIS_URL: redis://redis:6379/0
  image: pc2_test_tutoring_feature:latest
  networks:
  - shared_network
  ports:
  - 8034:8034
  - 8034:9034
  restart: unless-stopped

  pc2_health_monitor:
pc2_health_monitor:
  build:
    context: .
    dockerfile: docker/pc2_health_monitor/Dockerfile
  command:
  - python
  - pc2_code/agents/health_monitor.py
  container_name: pc2_health_monitor
  environment:
    HEALTH_PORT: '9035'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '8035'
    PYTHONPATH: /app
    REDIS_URL: redis://redis:6379/0
  image: pc2_health_monitor:latest
  networks:
  - shared_network
  ports:
  - 8035:8035
  - 8035:9035
  restart: unless-stopped

  pc2_performance_monitor:
pc2_performance_monitor:
  build:
    context: .
    dockerfile: docker/pc2_performance_monitor/Dockerfile
  command:
  - python
  - pc2_code/agents/performance_monitor.py
  container_name: pc2_performance_monitor
  environment:
    HEALTH_PORT: '9036'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '8036'
    PYTHONPATH: /app
    REDIS_URL: redis://redis:6379/0
  image: pc2_performance_monitor:latest
  networks:
  - shared_network
  ports:
  - 8036:8036
  - 8036:9036
  restart: unless-stopped

  pc2_monitor_web_ports:
pc2_monitor_web_ports:
  build:
    context: .
    dockerfile: docker/pc2_monitor_web_ports/Dockerfile
  command:
  - python
  - pc2_code/agents/monitor_web_ports.py
  container_name: pc2_monitor_web_ports
  environment:
    HEALTH_PORT: '9037'
    LOG_LEVEL: INFO
    NATS_SERVERS: nats://nats:4222
    PC2_ENVIRONMENT: 'true'
    PORT: '8037'
    PYTHONPATH: /app
    REDIS_URL: redis://redis:6379/0
  image: pc2_monitor_web_ports:latest
  networks:
  - shared_network
  ports:
  - 8037:8037
  - 8037:9037
  restart: unless-stopped

networks:
shared_network:
  driver: bridge
