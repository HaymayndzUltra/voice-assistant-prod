# üéØ **AUTONOMOUS TASK QUEUE SYSTEM RULES** üéØ
# Updated: 2025-07-30 - Full Production Integration

---

## **üöÄ SESSION START PROTOCOL**

- On session start:
    - **LOAD MEMORY SYSTEMS**:
        ‚Ä¢ Run `mcp_memory_read_graph` (i-load ang memory sa lahat ng MCP server)
        ‚Ä¢ Load all `memory-bank/*.md` files as context
        ‚Ä¢ Read previous session memory for continuity
    
    - **SYNC AUTONOMOUS QUEUE SYSTEM**:
        ‚Ä¢ **PRIMARY FOCUS**: Read `memory-bank/queue-system/tasks_active.json` (AI execution scope)
        ‚Ä¢ Update `memory-bank/cursor_state.json` with current active task
        ‚Ä¢ Update `memory-bank/task_state.json` with execution state
        ‚Ä¢ Update `memory-bank/task_interruption_state.json` with interruption status
        ‚Ä¢ Update `memory-bank/current-session.md` with session info
        ‚Ä¢ Auto-sync triggers on all state changes

---

## **‚ö° TASK EXECUTION PROTOCOL**

- **AI ASSISTANT SCOPE (CRITICAL)**:
    - **ONLY WORK WITH**: `memory-bank/queue-system/tasks_active.json`
    - **DO NOT MANAGE**: Queue transitions, task distribution, system management
    - **FOCUS ON**: Pure task execution and TODO completion
    - **AUTO-SYNC**: Triggers automatically on every task modification

- After any significant code change, task completion, or decision:
    - **STORE MEMORY**: Run `mcp_memory_store` (save summary ng pagbabago)
    - **UPDATE DOCUMENTATION**: Append summary sa tamang `memory-bank/*.md`
    - **TRIGGER AUTO-SYNC**: All state files automatically updated
        ‚Ä¢ `memory-bank/cursor_state.json` - Current task focus
        ‚Ä¢ `memory-bank/task_state.json` - Execution progress
        ‚Ä¢ `memory-bank/task_interruption_state.json` - Active interruptions
        ‚Ä¢ `memory-bank/current-session.md` - Session activity
        ‚Ä¢ Queue system files - Managed by autonomous engine

---

## **üîÑ AUTONOMOUS QUEUE INTEGRATION**

- **QUEUE SYSTEM FLOW**:
    ‚Ä¢ Queue (`tasks_queue.json`) ‚Üí Active (`tasks_active.json`) ‚Üí Done (`tasks_done.json`)
    ‚Ä¢ **AI READS ONLY**: `tasks_active.json` for pure execution focus
    ‚Ä¢ **SYSTEM MANAGES**: All queue transitions, priority, interruptions
    ‚Ä¢ **AUTO-DETECTION**: Completion triggers automatic queue movement

- **TASK LIFECYCLE**:
    ‚Ä¢ New tasks ‚Üí Added to queue automatically
    ‚Ä¢ Active tasks ‚Üí AI executes and marks TODOs done
    ‚Ä¢ Completed tasks ‚Üí Auto-moved to done queue
    ‚Ä¢ Interrupted tasks ‚Üí Priority resume on next session

---

## **üí¨ Q&A AND MEMORY PROTOCOL**

- For all questions and responses:
    - **PRIORITY ORDER**: MCP memory ‚Üí memory-bank ‚Üí execution context
    - **STATE VERIFICATION**: Always check state file consistency
    - **CURRENT FOCUS**: Use `tasks_active.json` as primary task source
    - **SESSION CONTEXT**: Reference `current-session.md` for recent activity

---

## **üîß SESSION CONTINUITY SYSTEM**

- **AUTOMATIC STATE SYNC** (After file saves, edits, tests):
    ‚Ä¢ Auto-sync manager handles all state consistency
    ‚Ä¢ No manual intervention required
    ‚Ä¢ Real-time state updates across all files
    ‚Ä¢ Timestamps automatically managed

- **DISCONNECT/RECONNECT HANDLING**:
    ‚Ä¢ **RESUME STATE**: Read `tasks_active.json` for current work
    ‚Ä¢ **RESTORE CONTEXT**: Load `cursor_state.json` for cursor position
    ‚Ä¢ **SYNC REALITY**: Ensure all state files match current system state
    ‚Ä¢ **QUEUE CONTINUITY**: Autonomous queue system maintains flow

---

## **üõ°Ô∏è CONSISTENCY ENFORCEMENT**

- **DUPLICATE PREVENTION**:
    ‚Ä¢ Check existing tasks before creating new ones
    ‚Ä¢ Reuse and update existing tasks instead of duplicating
    ‚Ä¢ Maintain task ID consistency across system

- **DATA INTEGRITY**:
    ‚Ä¢ All timestamps in Philippines timezone (UTC+8)
    ‚Ä¢ Consistent JSON formatting across all files
    ‚Ä¢ Automatic backup and rollback capabilities
    ‚Ä¢ Error recovery with graceful degradation

---

## **üéØ SUCCESS METRICS**

- **OPERATIONAL EXCELLENCE**:
    ‚Ä¢ Zero manual queue management required
    ‚Ä¢ 100% auto-sync success rate
    ‚Ä¢ Complete task execution focus for AI
    ‚Ä¢ Seamless session continuity across disconnections

- **AUTOMATION GOALS**:
    ‚Ä¢ AI focuses purely on task execution
    ‚Ä¢ System handles all queue and state management
    ‚Ä¢ No state inconsistencies or data loss
    ‚Ä¢ Real-time monitoring and auto-correction

---

**SYSTEM STATUS**: üü¢ FULLY OPERATIONAL
**AUTO-SYNC**: ‚úÖ ACTIVE  
**QUEUE ENGINE**: ‚úÖ AUTONOMOUS
**AI SCOPE**: ‚úÖ EXECUTION FOCUSED

- **MAINTAIN TIMESTAMP CONSISTENCY**:
    ‚Ä¢ Use ISO format timestamps consistently
    ‚Ä¢ Update `last_activity` and `disconnected_at` timestamps
    ‚Ä¢ Ensure all state files have consistent timestamps

- **VALIDATE STATE INTEGRITY**:
    ‚Ä¢ Check that `memory-bank/task_state.json` matches active tasks
    ‚Ä¢ Verify `memory-bank/task_interruption_state.json` points to valid task ID
    ‚Ä¢ Ensure `memory-bank/cursor_state.json` reflects current reality
    ‚Ä¢ Confirm AI only reads `memory-bank/queue-system/tasks_active.json`
- On disconnect / reconnect events:
    - Look at cursor_state.json to resume cursor position.

---

## **üìã TODO MANAGER WORKFLOW STRATEGY**

### **TASK EXECUTION DISKARTE:**

**1. SHOW TASK DETAILS:**
```bash
python3 todo_manager.py show TASK_ID
# Shows task with all TODO items and their indices
```

**2. MARK TODO AS DONE:**
```bash
python3 todo_manager.py done TASK_ID INDEX
# INDEX = 0, 1, 2, etc. (position ng TODO item)
```

**3. TYPICAL WORKFLOW:**
- `show TASK_ID` - Check lahat ng pending TODOs
- Implement/execute ang TODO item
- `done TASK_ID INDEX` - Mark as completed
- Repeat hanggang lahat ng TODOs ay tapos na

**4. EXAMPLE SEQUENCE:**
```bash
# Check current tasks
python3 todo_manager.py show 20250730T072914_GUI_Task

# Work on TODO item 0
# ... do implementation work ...

# Mark TODO 0 as done
python3 todo_manager.py done 20250730T072914_GUI_Task 0

# Continue with next TODO
python3 todo_manager.py show 20250730T072914_GUI_Task
# Work on TODO item 1...
```

**5. AUTO-SYNC INTEGRATION:**
- Every `done` command triggers auto-sync
- State files automatically updated
- Progress tracked across sessions

**6. BEST PRACTICES:**
- Always `show` first to see current status
- Complete TODOs in sequence (0, 1, 2...)
- Verify completion before moving to next
- Use descriptive task and TODO descriptions
